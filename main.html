<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Pog Blocks</title>
		<style>
			body { margin: 0; }
            canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
		<script src="js/three.js"></script>
		<script>
            var scene = new THREE.Scene();
            var camera = new THREE.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 0.1, 1000 );

            var renderer = new THREE.WebGLRenderer();
            renderer.setSize( window.innerWidth, window.innerHeight );
            document.body.appendChild( renderer.domElement );

            
            const blocks = [];
            const textureNames = ['acacia','birch','crimson','dark_oak','jungle','oak','spruce','warped']
            for (let y = 0; y < 10; y ++ ){
                 for (let x = 0; x < 10; x ++ ){
                     var geometry = new THREE.BoxGeometry( 1, 1, 1 );
                
                     const cubeTexture = new THREE.TextureLoader().load(textureNames[Math.round(Math.random() * 7)]+`_planks.png`)
                     const material = new THREE.MeshBasicMaterial({ map: cubeTexture })
                     var cube = new THREE.Mesh( geometry, material );
                     cube.position.x = x-4.5;
                     cube.position.y = y-4.5;
                     scene.add( cube );
                     blocks.push( cube );
                 }
            }
//            const wireframe = new THREE.WireframeGeometry(geometry)
//            const line = new THREE.LineSegments( wireframe );
//            line.material.depthTest = true;
//            line.material.opacity = 1;
//            line.material.transparent = true;
//
//            scene.add( line );
            
            
            camera.position.z = 10;
            camera.position.y = 2;
            camera.rotation.x = -0.1;
            console.log(blocks);
            var animate = function () {
                requestAnimationFrame( animate );
                
                for (let b = 0; b < blocks.length; b ++ ){
                    blocks[b].rotation.x += Math.random() * (blocks[b].position.x)/100;
                    blocks[b].rotation.y += Math.random() * (blocks[b].position.x)/100;
                }
//                cube.rotation.x += 0.01;
//                cube.rotation.y += 0.01;
//                line.rotation.x += 0.01;
//                line.rotation.y += 0.01;

                renderer.render( scene, camera );
            };
            animate();

		</script>
	</body>
</html>